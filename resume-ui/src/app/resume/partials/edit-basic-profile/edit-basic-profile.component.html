<form
    class="mat-card mat-elevation-z4 p-24"
    fxLayout="column"
    fxLayoutAlign="start"
    fxFlex="1 0 auto"
    name="form"
    [formGroup]="profileForm"
>
    <div class="h2 mb-24">Update Profile</div>

    <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
        <mat-form-field appearance="outline" fxFlex="100" class="pr-4">
            <mat-label>Full name</mat-label>
            <input matInput formControlName="fullName" required />
            <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
            <mat-error>Full Name is required!</mat-error>
        </mat-form-field>
    </div>

    <div
        formArrayName="address"
        *ngFor="
            let item of profileForm.get('address')['controls'];
            let i = index
        "
    >
        <div fxLayout="column wrap" [formGroupName]="i">
            <div
                fxLayout="row wrap"
                fxLayoutAlign="start center"
                fxFlex="1 0 auto"
            >
                <mat-form-field appearance="outline" fxFlex="100">
                    <mat-label>Address</mat-label>
                    <textarea matInput formControlName="address" required>
                        1600 Amphitheatre Pkwy
                    </textarea>
                    <mat-error>Address is required!</mat-error>
                </mat-form-field>
            </div>

            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="50">
                    <mat-label>City</mat-label>
                    <input matInput formControlName="city" required />
                    <mat-icon matSuffix class="secondary-text"
                        >location_city</mat-icon
                    >
                    <mat-error>City is required!</mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline" fxFlex="50" class="px-8">
                    <mat-label>State</mat-label>
                    <input matInput formControlName="state" required />
                    <mat-icon matSuffix class="secondary-text"
                        >location_city</mat-icon
                    >
                    <mat-error>State is required!</mat-error>
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="50">
                    <mat-label>Postal Code</mat-label>
                    <input
                        matInput
                        #postalCode
                        value="94043"
                        formControlName="zip"
                        maxlength="5"
                        required
                    />
                    <mat-icon matSuffix class="secondary-text"
                        >markunread_mailbox</mat-icon
                    >
                    <mat-hint align="end"
                        >{{ postalCode.value.length }} / 5</mat-hint
                    >
                    <mat-error>Postal Code is required!</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex="50" class="px-8">
                    <mat-label>Country</mat-label>
                    <input
                        matInput
                        value="94043"
                        formControlName="country"
                        maxlength="5"
                        required
                    />
                    <mat-icon matSuffix class="secondary-text">public</mat-icon>

                    <mat-error>Country is required!</mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
</form>
